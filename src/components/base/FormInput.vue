<template xmlns="http://www.w3.org/1999/html">
  <div>
    <label
      class="block text-sm font-medium text-gray-700"
      :for="name" v-if="label">{{label}}</label>
    <input :type="type" @input="$emit('update:modelValue', $event.target.value)" type="text" :name="name" :placeholder="placeholder" :value="modelValue" :class="inputClasses" />
    <div class="text-red-800 prose prose-sm pt-1" v-for="error of errors" :key="error.$uid">
      <div>{{ error.$message }}</div>
    </div>
    <slot></slot>
  </div>
</template>

<script>
export default {
  name: "FormInput",
  props: {
    errors: {
      type: Array,
      default: null,
    },
    name: {
      type: String,
      default: null,
    },
    label: {
      type: String,
      required: true,
    },
    placeholder: {
      type: String,
      default: null,
    },
    modelValue: {
      type: String,
      default: null,
    },
    type: {
      type: String,
      default: 'text',
    },
  },
  setup() {
    const inputClasses = 'mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50'
    return {
      inputClasses,
    }
  },
}
</script>
